<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Case Study</title>
  <style>
    :root {
      --primary-color: #66fcf1;
      --secondary-color: #1f2833;
      --accent-color: #45a29e;
    }
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      background: var(--secondary-color);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    #case-container {
      max-width: 800px;
      width: 90%;
      background-color: #fff;
      color: #000;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      padding: 20px;
      margin-top: 20px;
      display: none; /* initially hidden */
    }
    h2 {
      color: #007BFF;
    }
    .logout-button {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: var(--primary-color);
      color: var(--secondary-color);
      border: none;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      border-radius: 5px;
      text-decoration: none;
    }
    .logout-button:hover {
      background-color: var(--accent-color);
    }
    .generate-button {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: var(--primary-color);
      color: var(--secondary-color);
      border: none;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      border-radius: 5px;
    }
    .generate-button:hover {
      background-color: var(--accent-color);
    }
    /* Hide all topic sections initially */
    .topic-section {
      display: none;
    }
  </style>
</head>
<body>
  <h1>CASE STUDY</h1>
  
  <!-- Generate Topic button -->
  <button class="generate-button" onclick="generateTopic()">Generate Topic</button>
  
  <!-- Container for topics -->
  <div id="case-container">
    <div id="PS-1" class="topic-section">
      <h2>Transportation and Logistics</h2>
      <h3>Introduction</h3>
      <p>
        The transportation and logistics industry faces challenges such as <em>delayed deliveries, inefficient fleet management, cargo theft, and high fuel costs.</em>
        Traditional tracking methods often lack <strong>real-time visibility</strong> and fail to optimize routes, leading to increased operational costs. 
        An <strong>IoT-based smart logistics system</strong> helps businesses improve <em>fleet tracking, cargo security, and supply chain efficiency</em> through real-time monitoring and data-driven decision-making.
      </p>
      <h3>Problem Statement</h3>
      <ul>
        <li>Delayed deliveries due to poor route planning.</li>
        <li>Increased fuel costs due to inefficient fleet management.</li>
        <li>Cargo theft and damage due to a lack of real-time monitoring.</li>
        <li>Poor inventory management, leading to stock shortages or overstocking.</li>
      </ul>
    </div>
    <div id="PS-2" class="topic-section">
      <h2>Healthcare Monitoring</h2>
      <h3>Introduction</h3>
      <p>
        Healthcare systems often struggle with real-time patient monitoring, delayed diagnosis, and high hospitalization costs. 
        Traditional healthcare relies on <strong>manual checkups</strong>, making it difficult to track patients with chronic diseases like <strong>diabetes, heart disease, and hypertension.</strong> 
        An <strong>IoT-based healthcare monitoring system</strong> helps by continuously monitoring patient vitals, sending real-time alerts, and enabling remote diagnosis, leading to better patient care and early intervention.
      </p>
      <h3>Problem Statement</h3>
      <ul>
        <li>Lack of real-time monitoring, leading to delayed medical intervention.</li>
        <li>Limited accessibility, especially for remote patients.</li>
        <li>High medical costs due to frequent hospital visits.</li>
        <li>Overburdened healthcare facilities, reducing efficiency in patient care.</li>
      </ul>
    </div>
    <div id="PS-3" class="topic-section">
      <h2>Urban Waste Management</h2>
      <h3>Introduction</h3>
      <p>
        Urban waste management faces significant challenges, such as overflowing bins, inefficient waste collection, and high operational costs. 
        Traditional waste management methods often lack <strong>real-time monitoring and optimization</strong>, leading to unnecessary trips, waste overflow, and resource mismanagement. 
        An <strong>IoT-based smart waste management system</strong> helps cities optimize waste collection, reduce costs, and improve environmental outcomes through real-time monitoring and data-driven decision-making.
      </p>
      <h3>Problem Statement</h3>
      <ul>
        <li>Overflowing bins and uncollected waste due to inaccurate collection schedules.</li>
        <li>Increased fuel costs and wasted resources due to inefficient collection routes.</li>
        <li>Environmental pollution caused by delayed or missed waste collections.</li>
        <li>Higher operational costs due to lack of real-time data and optimization.</li>
      </ul>
    </div>
    <div id="PS-4" class="topic-section">
      <h2>Sustainable Agriculture</h2>
      <h3>Introduction</h3>
      <p>
        The agricultural industry faces challenges such as resource wastage, soil degradation, inefficient crop management, and high post-harvest losses. 
        Traditional farming methods often lack real-time monitoring and fail to optimize resource utilization, leading to reduced productivity and environmental impact. 
        A <strong>smart, IoT-based sustainable agriculture system</strong> helps farmers improve <strong>crop monitoring, resource efficiency, and yield optimization</strong> through real-time data and automated decision-making.
      </p>
      <h3>Problem Statement</h3>
      <ul>
        <li>Excessive water consumption due to inefficient irrigation systems.</li>
        <li>Soil degradation and reduced fertility due to unsustainable farming practices.</li>
        <li>High post-harvest losses due to poor storage and supply chain inefficiencies.</li>
        <li>Overuse of chemical inputs, leading to environmental pollution and declining crop health.</li>
      </ul>
    </div>
  </div>

  <!-- Next button (initially hidden) -->
  <a href="/logout" class="logout-button" id="next-button" style="display: none;" onclick="removeTabSwitchAndLogout(event)">Next</a>
  <div style="margin-bottom: 50px;"></div>

  <script>
    // Function to randomly display one topic and show the next button
    function generateTopic() {
      // Get all topic sections
      const topics = document.querySelectorAll('.topic-section');
      // Hide all topics
      topics.forEach(topic => {
        topic.style.display = 'none';
      });
      // Select a random topic
      const randomIndex = Math.floor(Math.random() * topics.length);
      // Show the topics container if it was hidden
      document.getElementById('case-container').style.display = 'block';
      // Display only the randomly selected topic
      topics[randomIndex].style.display = 'block';
      // Hide the generate button
      document.querySelector('.generate-button').style.display = 'none';
      // Show the next button
      document.getElementById('next-button').style.display = 'inline-block';
    }

    // Tab switching detection function: alerts and notifies server
    function handleVisibilityChange() {
      if (document.hidden) {
        alert("Tab switching is not allowed!");
        fetch('/api/switch', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' }
        })
          .then(response => response.json())
          .then(data => {
            console.log("Tab switch count updated:", data);
          })
          .catch(error => console.error("Error updating tab switch count:", error));
      }
    }
    // Register the visibilitychange event
    document.addEventListener("visibilitychange", handleVisibilityChange);

    // Function to remove tab switching detection and then navigate to /logout
    function removeTabSwitchAndLogout(event) {
      event.preventDefault();
      document.removeEventListener("visibilitychange", handleVisibilityChange);
      window.location.href = "/logout";
    }

    // Disable right-click context menu
    document.addEventListener("contextmenu", function (event) {
      event.preventDefault();
      console.log("Right-click is disabled!");
    });

    // Disable copying
    document.addEventListener("copy", function (event) {
      event.preventDefault();
      console.log("Copying is not allowed!");
    });

    // Disable text selection
    document.addEventListener("selectstart", function (event) {
      event.preventDefault();
      console.log("Text selection is disabled!");
    });
  </script>
</body>
</html>
